(function(e){function t(t){for(var s,c,r=t[0],o=t[1],l=t[2],m=0,f=[];m<r.length;m++)c=r[m],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&f.push(i[c][0]),i[c]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(s=!1)}s&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var s={},i={app:0},a=[];function c(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=s,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(n,s,function(t){return e[t]}.bind(null,s));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s,i,a=n("2b0e"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-row",[n("el-col",{staticClass:"desc",attrs:{span:2}},[e._v(" общие тр-ты: ")]),n("el-col",{attrs:{span:1}},[e._v(" "+e._s(e.tasksCount)+" ")]),n("el-col",{staticClass:"desc",attrs:{span:2}},[e._v(" разработчик: ")]),n("el-col",{attrs:{span:3}},[n("el-input",{model:{value:e.cMember.name,callback:function(t){e.$set(e.cMember,"name",t)},expression:"cMember.name"}})],1),n("el-col",{attrs:{span:3}},[n("p")]),n("el-col",{attrs:{span:2}},[n("el-button",{on:{click:e.onDel}},[e._v("Удалить")])],1)],1),n("el-row",{staticClass:"line"},[n("el-col",{staticClass:"desc",attrs:{span:24}},[n("hr")])],1),n("el-row",[n("el-col",{attrs:{span:3}},[n("el-button",{on:{click:e.storageSave}},[e._v("Записать")])],1),n("el-col",{staticClass:"desc",attrs:{span:2}},[e._v(" задача: ")]),n("el-col",{attrs:{span:3}},[n("el-input",{model:{value:e.cTask.name,callback:function(t){e.$set(e.cTask,"name",t)},expression:"cTask.name"}})],1),n("el-col",{attrs:{span:2}},[n("el-input",{model:{value:e.cTask.time,callback:function(t){e.$set(e.cTask,"time",t)},expression:"cTask.time"}})],1),n("el-col",{attrs:{span:1}},[n("p")]),n("el-col",{attrs:{span:2}},[n("el-button",{on:{click:e.onDelTask}},[e._v("Удалить")])],1)],1),n("el-row",{staticClass:"line"},[n("el-col",{staticClass:"desc",attrs:{span:24}},[n("hr")])],1),e._l(e.members,(function(t){return n("div",{key:t.id,staticClass:"member",class:{active:t.isActive},on:{click:function(n){return e.onSelect(t)}}},[n("div",{staticClass:"nm"},[e._v(e._s(t.name))]),e._l(t.tasks,(function(t){return n("div",{key:t.id,staticClass:"task",class:{active:t.isActive,w2:2==t.time,w3:3==t.time,w4:4==t.time,w5:5==t.time,w6:6==t.time,w7:7==t.time,w8:8==t.time,w9:9==t.time,w10:10==t.time},on:{click:function(n){return e.onSelectTask(t)}}},[n("div",[e._v(" "+e._s(t.name)+" ")])])})),t.isActive?n("el-button",{on:{click:e.onAddTask}},[e._v("+")]):e._e()],2)})),n("div",{staticClass:"space"}),n("p",[n("el-button",{on:{click:e.onAdd}},[e._v("+")])],1),n("div",{staticClass:"space"}),n("canvas",{attrs:{id:"fire",width:"500",height:"500"}}),n("div",{staticClass:"debug"},[n("p",[e._v(e._s(e.members))]),n("p",[e._v(e._s(e.fire))])])],2)},r=[],o=(n("159b"),n("25eb"),n("a9e3"),n("d3b7"),n("25f0"),n("a434"),{name:"app",components:{},data:function(){return{members:[{id:.11482149135454323,name:"Максим",tasks:[{id:.0023599485286690536,name:"новая задача",time:"2",isActive:!1},{id:.37211958881958207,name:"новая задача",time:"2",isActive:!1},{id:.9343021127754118,name:"новая задача",time:"2",isActive:!1},{id:.18407621000603458,name:"новая задача",time:"2",isActive:!1},{id:.43270851236231545,name:"новая задача",time:"2",isActive:!1}],isActive:!1},{id:.29428513232894016,name:"Катя",tasks:[{id:.9271747778856098,name:"новая задача",time:"5",isActive:!0},{id:.2861063346717799,name:"новая задача",time:"5",isActive:!1}],isActive:!0},{id:.22876539886181424,name:"Андрей",tasks:[{id:.0065651665361503575,name:"325 пейджер",time:"3",isActive:!1},{id:.4716512229226457,name:"283 флекс",time:"5",isActive:!1},{id:.07985047626073227,name:"326 признак архив",time:"2",isActive:!1}],isActive:!1}],inMember:"inMember",cMember:{id:1,name:"",tasks:[]},tasks:[],cTask:{}}},mounted:function(){s=document.getElementById("fire"),i=s.getContext("2d"),this.storageLoad(),this.pic(this.fire)},computed:{tasksCount:function(){var e=0;return this.members.forEach((function(t){t.tasks.forEach((function(t){e=Number.parseInt(e)+Number.parseInt(t.time)}))})),e},kH:function(){return 500/this.tasksCount},kW:function(){return 50},fire:function(){var e={};return this.members.forEach((function(t){var n=0;t.tasks.forEach((function(t){var s=Number.parseInt(n)+Number.parseInt(t.time);void 0==e[s]&&(e[s]=0),e[s]=e[s]+Number.parseInt(t.time),n=s}))})),this.pic(e),e}},methods:{storageSave:function(){window.localStorage.setItem("dt",JSON.stringify(this.members))},storageLoad:function(){var e=window.localStorage.getItem("dt");e&&(this.members=JSON.parse(e))},pic:function(e){if(i){i.clearRect(0,0,500,500),i.beginPath(),i.moveTo(1,1);for(var t=0,n=0;n<11;n++)e[n.toString()]&&(t+=e[n.toString()]),i.lineTo(n*this.kW,t*this.kH);i.strokeStyle="#000",i.stroke(),i.closePath(),i.beginPath();for(var s=0;s<10;s++)i.moveTo(50*s,1),i.lineTo(50*s,500);for(var a=0;a<this.tasksCount;a++)i.moveTo(1,a*this.kH),i.lineTo(500,a*this.kH);i.strokeStyle="rgba(0, 0, 0, 0.1)",i.stroke()}},onSave:function(){},onDel:function(){var e=this.members.indexOf(this.cMember);this.members.splice(e,1),this.cMember={},this.cTask={}},onDelTask:function(){var e,t=this,n=0;this.cMember.tasks.forEach((function(s){s.id==t.cTask.id&&(e=n),n++})),console.log("indexToDel",e),this.cMember.tasks.splice(e,1),this.cTask={}},onAdd:function(){var e={id:null,name:"новый участник",tasks:[],isActive:!1};this.members.push(e),e.id=Math.random()},onSelect:function(e){this.cMember=e,this.clearMembersIsActive(),e.isActive=!0},onAddTask:function(){var e=this,t={id:Math.random(),name:"новая задача",time:1,isActive:!1};e.cMember.tasks.push(t)},clearMembersIsActive:function(){this.members.forEach((function(e){e.isActive=!1}))},onSelectTask:function(e){this.cTask=e,this.members.forEach((function(e){e.tasks.forEach((function(e){e.isActive=!1}))})),e.isActive=!0}}}),l=o,u=(n("034f"),n("2877")),m=Object(u["a"])(l,c,r,!1,null,null,null),f=m.exports,d=n("5c96"),p=n.n(d),v=(n("0fae"),n("dccd")),h=n.n(v);a["default"].use(p.a,{locale:h.a}),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(f)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.9ff2610c.js.map