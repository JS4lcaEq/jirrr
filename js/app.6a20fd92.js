(function(t){function s(s){for(var i,c,r=s[0],o=s[1],l=s[2],d=0,u=[];d<r.length;d++)c=r[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&u.push(a[c][0]),a[c]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);v&&v(s);while(u.length)u.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],i=!0,r=1;r<e.length;r++){var o=e[r];0!==a[o]&&(i=!1)}i&&(n.splice(s--,1),t=c(c.s=e[0]))}return t}var i={},a={app:0},n=[];function c(s){if(i[s])return i[s].exports;var e=i[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=t,c.c=i,c.d=function(t,s,e){c.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,s){if(1&s&&(t=c(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var i in t)c.d(e,i,function(s){return t[s]}.bind(null,i));return e},c.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(s,"a",s),s},c.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var v=o;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"034f":function(t,s,e){"use strict";e("85ec")},"56d7":function(t,s,e){"use strict";e.r(s);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i,a,n=e("2b0e"),c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"desc"},[e("el-button",{on:{click:t.storageSave}},[t._v("Записать")])],1),e("div",{staticClass:"desc"},[t._v("общие тр-ты:")]),e("div",{staticClass:"value"},[t._v(t._s(t.tasksCount))]),e("div",{staticClass:"desc"},[t._v("разработчик:")]),e("div",{staticStyle:{flex:"1 0"}},[e("el-input",{model:{value:t.cMember.name,callback:function(s){t.$set(t.cMember,"name",s)},expression:"cMember.name"}})],1),e("div",{staticClass:"desc"},[e("el-button",{on:{click:t.onDel}},[t._v("Удалить")])],1),e("div",{staticClass:"desc"},[e("el-button",{on:{click:t.onAdd}},[t._v("+")])],1)]),e("hr"),e("div",{staticClass:"row"},[e("div"),e("div",{staticClass:"desc"},[t._v("задача:")]),e("div",{staticStyle:{flex:"1 0"}},[e("el-input",{model:{value:t.cTask.name,callback:function(s){t.$set(t.cTask,"name",s)},expression:"cTask.name"}})],1),e("div",{staticClass:"desc"},[t._v("дней:")]),e("div",{staticStyle:{width:"100px"}},[e("el-input",{model:{value:t.cTask.time,callback:function(s){t.$set(t.cTask,"time",s)},expression:"cTask.time"}})],1),e("div",{staticClass:"desc"},[t._v("тип:")]),e("div",{staticStyle:{width:"100px"}},[e("el-select",{attrs:{placeholder:"Select"},model:{value:t.cTask.typeId,callback:function(s){t.$set(t.cTask,"typeId",s)},expression:"cTask.typeId"}},t._l(t.types,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",[e("el-button",{on:{click:t.onDelTask}},[t._v("Удалить")])],1),e("div",[e("el-button",{on:{click:t.onMove}},[t._v("Переместить")])],1)]),e("hr"),t._m(0),t._l(t.members,(function(s){return e("div",{key:s.id,staticClass:"member",class:{active:s.isActive},on:{click:function(e){return t.onSelect(s)}}},[e("div",{staticClass:"nm"},[t._v(t._s(s.name))]),e("div",{staticClass:"tasks"},t._l(s.tasks,(function(i){return e("div",{key:i.id,staticClass:"task",class:{prev:i.isPrev,active:i.isActive,w2:2==i.time,w3:3==i.time,w4:4==i.time,w5:5==i.time,w6:6==i.time,w7:7==i.time,w8:8==i.time,w9:9==i.time,w10:10==i.time}},[e("div",{staticClass:"task-space",class:{active:t.isMoving},on:{click:function(e){return t.onMoved(i,s)}}},[t._v(" ")]),e("div",{staticClass:"task-name",on:{click:function(s){return t.onSelectTask(i)}}},[t._v(" "+t._s(i.name)+" ")])])})),0),e("div",{staticClass:"add-button"},[s.isActive?e("el-button",{on:{click:t.onAddTask}},[t._v("+")]):t._e()],1)])})),e("div",{staticClass:"space"}),e("div",{staticStyle:{display:"flex"}},[t._m(1),e("div",{staticClass:"persent"},[t._l(t.types,(function(s){return e("p",{key:s.value},[t._v(t._s(s.label)+" : "+t._s(t.typesCount[s.value]))])})),e("p",[t._v("не указано: "+t._s(t.typesCount[0]))])],2)]),e("div",{staticClass:"debug"},[e("p",[t._v(t._s(t.members))]),e("p",[t._v(t._s(t.fire))]),e("hr"),e("p",[t._v(t._s(t.pTask))]),e("hr"),e("p",[t._v(t._s(t.cTask))])])],2)},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"member"},[e("div",{staticClass:"nm"}),e("div",{staticClass:"tasks"},[e("div",{staticClass:"task"},[e("div",{staticClass:"task-space"},[t._v(" ")]),e("div",{staticClass:"task-name"},[t._v("1")])]),e("div",{staticClass:"task"},[e("div",{staticClass:"task-space"},[t._v(" ")]),e("div",{staticClass:"task-name"},[t._v("2")])]),e("div",{staticClass:"task"},[e("div",{staticClass:"task-space"},[t._v(" ")]),e("div",{staticClass:"task-name"},[t._v("3")])]),e("div",{staticClass:"task"},[e("div",{staticClass:"task-space"},[t._v(" ")]),e("div",{staticClass:"task-name"},[t._v("4")])]),e("div",{staticClass:"task"},[e("div",{staticClass:"task-space"},[t._v(" ")]),e("div",{staticClass:"task-name"},[t._v("5")])]),e("div",{staticClass:"task"},[e("div",{staticClass:"task-space"},[t._v(" ")]),e("div",{staticClass:"task-name"},[t._v("6")])]),e("div",{staticClass:"task"},[e("div",{staticClass:"task-space"},[t._v(" ")]),e("div",{staticClass:"task-name"},[t._v("7")])]),e("div",{staticClass:"task"},[e("div",{staticClass:"task-space"},[t._v(" ")]),e("div",{staticClass:"task-name"},[t._v("8")])]),e("div",{staticClass:"task"},[e("div",{staticClass:"task-space"},[t._v(" ")]),e("div",{staticClass:"task-name"},[t._v("9")])]),e("div",{staticClass:"task"},[e("div",{staticClass:"task-space"},[t._v(" ")]),e("div",{staticClass:"task-name"},[t._v("10")])])]),e("div",{staticClass:"add-button"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("canvas",{attrs:{id:"fire",width:"500",height:"500"}})])}],o=(e("159b"),e("c35a"),e("a9e3"),e("25eb"),e("a434"),e("d3b7"),e("25f0"),{name:"app",components:{},data:function(){return{members:[{id:.11482149135454323,name:"Максим",tasks:[{id:.0023599485286690536,name:"н.ф.",time:"2",isActive:!1,typeId:2},{id:.37211958881958207,name:"новая задача",time:"2",isActive:!1},{id:.9343021127754118,name:"новая задача",time:"2",isActive:!1},{id:.18407621000603458,name:"новая задача",time:"2",isActive:!1},{id:.43270851236231545,name:"новая задача",time:"2",isActive:!1}],isActive:!1},{id:.29428513232894016,name:"Катя",tasks:[{id:.9271747778856098,name:"новая задача",time:"5",isActive:!0},{id:.2861063346717799,name:"новая задача",time:"5",isActive:!1}],isActive:!0},{id:.22876539886181424,name:"Андрей",tasks:[{id:.0065651665361503575,name:"325 пейджер",time:"3",isActive:!1},{id:.4716512229226457,name:"283 флекс",time:"5",isActive:!1},{id:.07985047626073227,name:"326 признак архив",time:"2",isActive:!1}],isActive:!1}],inMember:"inMember",cMember:{id:1,name:"",tasks:[]},tasks:[],cTask:{},pTask:{},types:[{label:"тех.долг",value:1},{label:"нов.фун.",value:2},{label:"арх.",value:3},{label:"дефект",value:4}],isMoving:!1}},mounted:function(){i=document.getElementById("fire"),a=i.getContext("2d"),this.storageLoad(),this.pic(this.fire)},computed:{typesCount:function(){var t={0:0,1:0,2:0,3:0,4:0};this.members.forEach((function(s){s.tasks.forEach((function(s){var e=s.typeId;e?t[e]=Number.parseFloat(t[e])+Number.parseInt(s.time):t[0]=Number.parseFloat(t[0])+Number.parseInt(s.time)}))}));for(var s=0;s<5;s++)t[s]=Math.round(100*t[s]/this.tasksCount);return t},tasksCount:function(){var t=0;return this.members.forEach((function(s){s.tasks.forEach((function(s){t=Number.parseInt(t)+Number.parseInt(s.time)}))})),t},kH:function(){return 500/this.tasksCount},kW:function(){return 50},fire:function(){var t={};return this.members.forEach((function(s){var e=0;s.tasks.forEach((function(s){var i=Number.parseInt(e)+Number.parseInt(s.time);void 0==t[i]&&(t[i]=0),t[i]=t[i]+Number.parseInt(s.time),e=i}))})),this.pic(t),t}},methods:{onMoved:function(t,s){if(this.isMoving){var e=this.cMember.tasks.indexOf(this.cTask);this.cMember.tasks.splice(e,1);var i=s.tasks.indexOf(t);s.tasks.splice(i,0,this.cTask),this.isMoving=!1}},onMove:function(){this.isMoving=!0},storageSave:function(){window.localStorage.setItem("dt",JSON.stringify(this.members))},storageLoad:function(){var t=window.localStorage.getItem("dt");t&&(this.members=JSON.parse(t))},pic:function(t){if(a){a.clearRect(0,0,500,500),a.beginPath(),a.moveTo(1,1);for(var s=0,e=0;e<11;e++)t[e.toString()]&&(s+=t[e.toString()]),a.lineTo(e*this.kW,s*this.kH);a.strokeStyle="#000",a.stroke(),a.closePath(),a.beginPath();for(var i=0;i<10;i++)a.moveTo(50*i,1),a.lineTo(50*i,500);for(var n=0;n<this.tasksCount;n++)a.moveTo(1,n*this.kH),a.lineTo(500,n*this.kH);a.strokeStyle="rgba(0, 0, 0, 0.1)",a.stroke()}},onSave:function(){},onDel:function(){var t=this.members.indexOf(this.cMember);this.members.splice(t,1),this.cMember={},this.cTask={}},onDelTask:function(){var t,s=this,e=0;this.cMember.tasks.forEach((function(i){i.id==s.cTask.id&&(t=e),e++})),console.log("indexToDel",t),this.cMember.tasks.splice(t,1),this.cTask={}},onAdd:function(){var t={id:null,name:"новый участник",tasks:[],isActive:!1};this.members.push(t),t.id=Math.random()},onSelect:function(t){this.cMember=t,this.clearMembersIsActive(),t.isActive=!0},onAddTask:function(){var t=this,s={id:Math.random(),name:"новая задача",time:1,isActive:!1,typeId:2};t.cMember.tasks.push(s)},clearMembersIsActive:function(){this.members.forEach((function(t){t.isActive=!1}))},onSelectTask:function(t){this.cTask=t,this.members.forEach((function(t){t.tasks.forEach((function(t){t.isActive=!1}))})),t.isActive=!0}}}),l=o,v=(e("034f"),e("2877")),d=Object(v["a"])(l,c,r,!1,null,null,null),u=d.exports,m=e("5c96"),f=e.n(m),k=(e("0fae"),e("dccd")),p=e.n(k);n["default"].use(f.a,{locale:p.a}),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(u)}}).$mount("#app")},"85ec":function(t,s,e){}});
//# sourceMappingURL=app.6a20fd92.js.map